<div class="home">

  <div id="banners"></div>

  <div class="actions">
    <button onclick="dailyCheckIn()">Daily Check-in</button>
    <button onclick="loadPage('referral')">Referral</button>
    <button onclick="loadPage('recharge')">Recharge</button>
    <button onclick="loadPage('withdraw')">Withdraw</button>
  </div>

  <h3>New Arrivals</h3>
  <div id="new-products"></div>

  <h3>Live Transactions</h3>
  <marquee id="live-txns"></marquee>

</div>
<div class="home-page">

  <!-- ðŸ“Œ BANNERS -->
  <div id="banner-slider" class="banner-slider"></div>

  <!-- ðŸ“Œ QUICK ACTIONS -->
  <div class="quick-actions">
    <button onclick="dailyCheckIn()">Daily Check-in</button>
    <button onclick="loadPage('referral')">Referral</button>
    <button onclick="loadPage('recharge')">Recharge</button>
    <button onclick="loadPage('withdraw')">Withdraw</button>
  </div>

  <!-- ðŸ“Œ NEW ARRIVALS -->
  <h3 class="section-title">New Arrivals</h3>
  <div id="new-arrivals" class="new-arrivals"></div>

  <!-- ðŸ“Œ LIVE TRANSACTIONS -->
  <h3 class="section-title">Live Transactions</h3>
  <marquee id="live-transactions" class="live-ticker"></marquee>

</div>

<script src="../app/home.js"></script>
<script type="module">
import {
  loadUserSummary,
  loadHomeNewArrivals,
  dailyCheckIn,
  loadLiveTransactions
} from "./assets/js/home.js";

import { checkLogin } from "./assets/js/auth.js";

checkLogin(async (logged, user) => {
  if (!logged) {
    window.location.href = "login.html";
    return;
  }

  const uid = user.uid;

  // Load User Summary
  await loadUserSummary(uid);

  // Load New Arrivals
  await loadHomeNewArrivals();

  // Load Live Transactions
  await loadLiveTransactions();

  // Daily Check-in Button Logic
  document.getElementById("checkInBtn").onclick = async () => {
    let res = await dailyCheckIn(uid);

    if (res.status) {
      alert("Check-in Successful! +â‚¹10 added.");
      loadUserSummary(uid);
    } else {
      alert(res.message);
    }
  };

  // Navigation Buttons
  document.getElementById("rechargeBtn").onclick = () => {
    window.location.href = "recharge.html";
  };

  document.getElementById("withdrawBtn").onclick = () => {
    window.location.href = "withdraw.html";
  };

  document.getElementById("referralBtn").onclick = () => {
    window.location.href = "promotion.html";
  };

});
           </script>
